<?xml version="1.0" encoding="utf-8"?>
<openerp>
    <data>
        <template id="assets_backend" name="tabel assets" inherit_id="web.assets_backend">
            <xpath expr="." position="inside">
                <link rel="stylesheet" href="/kraskolba_warehouse/static/src/css/kraskolba_warehouse.css"/>
            </xpath>
        </template>

        <!--employee begin-->
        <record id="view_kraskolba_warehouse_employee_tree" model="ir.ui.view">
            <field name="name">kraskolba.warehouse.employee.tree</field>
            <field name="model">kraskolba.warehouse.employee</field>
            <field name="arch" type="xml">
                <tree>
                    <field name="last_name"/>
                    <field name="first_name"/>
                    <field name="middle_name"/>
                    <field name="position"/>
                </tree>
            </field>
        </record>

        <record id="view_kraskolba_warehouse_employee_form" model="ir.ui.view">
            <field name="name">kraskolba.warehouse.employee.form</field>
            <field name="model">kraskolba.warehouse.employee</field>
            <field name="arch" type="xml">
                <form string="Данные сотрудников">
                    <group>
                    <field name="last_name"/>
                    <field name="first_name"/>
                    <field name="middle_name"/>
                    <field name="position"/>

                    </group>
                </form>
            </field>
        </record>

        <record id="action_kraskolba_warehouse_employee" model="ir.actions.act_window">
            <field name="name">Список сотрудников</field>
            <field name="res_model">kraskolba.warehouse.employee</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>

        <record id="employee_view_search" model="ir.ui.view">
            <field name="name">employee.search</field>
            <field name="model">kraskolba.warehouse.employee</field>
            <field name="arch" type="xml">
                <search>
                    <field name="full_name"/>

                    <group string="Сгруппировать">
                        <filter name="group_employee_by_position" string="Должность" context="{'group_by': 'position'}"/>
                    </group>
                </search>
            </field>
        </record>
        <!--employee end-->

        <!-- depot -->
        <record id="view_kraskolba_warehouse_depot_tree" model="ir.ui.view">
            <field name="name">kraskolba.warehouse.depot.tree</field>
            <field name="model">kraskolba.warehouse.depot</field>
            <field name="arch" type="xml">
                <tree>
                    <field name="name"/>
                    <field name="serial_number"/>
                    <field name="address"/>
                </tree>
            </field>
        </record>

        <record id="view_kraskolba_warehouse_depot_form" model="ir.ui.view">
            <field name="name">kraskolba.warehouse.depot.form</field>
            <field name="model">kraskolba.warehouse.depot</field>
            <field name="arch" type="xml">
                <form string="Данные склада">
                    <group>
                        <field name="name"/>
                        <field name="serial_number"/>
                        <field name="address"/>
                        <field name="goods">
                            <!--<tree string="Заказы">-->
                            <!--<field name="id" string="№ заказа"/>-->
                            <!--<field name="create_date" string="Дата принятия"/>-->
                            <!--<field name="readydate"/>-->
                            <!--<field name="issuedate"/>-->
                            <!--<field name="estimatedreadydate"/>-->
                            <!--<field name="serialnumber"/>-->
                            <!--<field name="devmod"/>-->
                            <!--<field name="pre_price"/>-->
                            <!--<field name="real_price"/>-->
                            <!--<field name="client"/>-->
                            <!--<field name="client_tel_number" string="Номер клиента"/>-->
                            <!--<field name="state"/>-->
                            <!--<field name="fix_type"/>-->
                            <!--</tree>-->
                        </field>
                    </group>
                </form>
            </field>
        </record>

        <record id="action_kraskolba_warehouse_depot" model="ir.actions.act_window">
            <field name="name">Список складов</field>
            <field name="res_model">kraskolba.warehouse.depot</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>

        <!-- depot -->

        <!-- goodtype -->
        <record id="view_kraskolba_warehouse_goodtype_tree" model="ir.ui.view">
            <field name="name">kraskolba.warehouse.goodtype.tree</field>
            <field name="model">kraskolba.warehouse.goodtype</field>
            <field name="arch" type="xml">
                <tree>
                    <field name="name"/>
                    <field name="count"/>
                </tree>
            </field>
        </record>

        <record id="view_kraskolba_warehouse_goodtype_form" model="ir.ui.view">
            <field name="name">kraskolba.warehouse.goodtype.form</field>
            <field name="model">kraskolba.warehouse.goodtype</field>
            <field name="arch" type="xml">
                <form string="Данные склада">
                    <group>
                        <field name="name"/>
                        <field name="goods">
                            <!--<tree string="Заказы">-->
                            <!--<field name="id" string="№ заказа"/>-->
                            <!--<field name="create_date" string="Дата принятия"/>-->
                            <!--<field name="readydate"/>-->
                            <!--<field name="issuedate"/>-->
                            <!--<field name="estimatedreadydate"/>-->
                            <!--<field name="serialnumber"/>-->
                            <!--<field name="devmod"/>-->
                            <!--<field name="pre_price"/>-->
                            <!--<field name="real_price"/>-->
                            <!--<field name="client"/>-->
                            <!--<field name="client_tel_number" string="Номер клиента"/>-->
                            <!--<field name="state"/>-->
                            <!--<field name="fix_type"/>-->
                            <!--</tree>-->
                        </field>
                    </group>
                </form>
            </field>
        </record>

        <record id="action_kraskolba_warehouse_goodtype" model="ir.actions.act_window">
            <field name="name">Список категорий</field>
            <field name="res_model">kraskolba.warehouse.goodtype</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>

        <!-- goodtype -->

        <!-- goods -->
        <record id="view_kraskolba_warehouse_goods_tree" model="ir.ui.view">
            <field name="name">kraskolba.warehouse.goods.tree</field>
            <field name="model">kraskolba.warehouse.goods</field>
            <field name="arch" type="xml">
                <tree>
                    <field name="type"/>
                    <field name="name"/>
                    <field name="state"/>
                    <field name="depot"/>
                    <field name="quantity"/>
                    <field name="price"/>
                </tree>
            </field>
        </record>

        <record id="view_kraskolba_warehouse_goods_form" model="ir.ui.view">
            <field name="name">kraskolba.warehouse.goods.form</field>
            <field name="model">kraskolba.warehouse.goods</field>
            <field name="arch" type="xml">
                <form string="Данные товара">
                    <group>
                        <!-- Надо в 2 столбца все воткнуть, шоб красота была -->
                        <field name="type"/>
                        <field name="name"/>
                        <field name="state"/>
                        <field name="depot"/>
                        <field name="quantity"/>
                        <field name="price"/>
                        <field name="note"/>
                    </group>
                </form>
            </field>
        </record>

        <record id="action_kraskolba_warehouse_goods" model="ir.actions.act_window">
            <field name="name">Список товаров</field>
            <field name="res_model">kraskolba.warehouse.goods</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>

        <record id="goods_view_search" model="ir.ui.view">
            <field name="name">goods.search</field>
            <field name="model">kraskolba.warehouse.goods</field>
            <field name="arch" type="xml">
                <search>
                    <group string="Сгруппировать">
                        <filter name="group_goods_by_type" string="Категория" context="{'group_by': 'type'}"/>
                        <filter name="group_goods_by_depot" string="Склад" context="{'group_by': 'depot'}"/>
                    </group>
                </search>
            </field>
        </record>

        <!-- goods -->

        <!-- goodscategory -->
        <record id="view_kraskolba_warehouse_goodscategory_tree" model="ir.ui.view">
            <field name="name">kraskolba.warehouse.goodscategory.tree</field>
            <field name="model">kraskolba.warehouse.goodscategory</field>
            <field name="arch" type="xml">
                <tree>
                    <field name="name"/>
                    <field name="code"/>
                </tree>
            </field>
        </record>

        <record id="view_kraskolba_warehouse_goodscategory_form" model="ir.ui.view">
            <field name="name">kraskolba.warehouse.goodscategory.form</field>
            <field name="model">kraskolba.warehouse.goodscategory</field>
            <field name="arch" type="xml">
                <form string="Данные склада">
                    <group>
                        <field name="name"/>
                        <field name="code"/>
                        <field name="parent_id"/>
                    </group>
                        <notebook>
                            <page string="Подкатегории" name="subcategories">
                                <field name="subcategory_ids" colspan="6" nolabel="1">
                                    <tree name="active_subcategories_inline" editable="bottom" default_order="name">
                                        <field name="name" />
                                        <field name="code" />
                                    </tree>
                                </field>
                            </page>
                        </notebook>
                </form>
            </field>
        </record>

        <record id="action_kraskolba_warehouse_goodscategory" model="ir.actions.act_window">
            <field name="name">Категории номенклатуры</field>
            <field name="res_model">kraskolba.warehouse.goodscategory</field>
            <field name="view_type">form</field>
            <field name="view_mode">tree,form</field>
        </record>

        <!--tree as tree-->
        <record id="view_kraskolba_warehouse_goodscategory_tree_as_tree" model="ir.ui.view">
            <field name="name">kraskolba.warehouse.goodscategory.tree_as_tree</field>
            <field name="model">kraskolba.warehouse.goodscategory</field>
            <field name="field_parent">subcategory_ids</field>
            <field name="arch" type="xml">
                <tree string="Классификатор категорий" version="8.0">
                    <field name="complete_name"/>
                </tree>
            </field>
        </record>

        <record id="action_kraskolba_warehouse_goodscategory_tree_as_tree" model="ir.actions.act_window">
            <field name="name">Категории номенклатуры (схема)</field>
            <field name="res_model">kraskolba.warehouse.goodscategory</field>
            <field name="view_type">tree</field>
            <field name="view_id" ref="view_kraskolba_warehouse_goodscategory_tree_as_tree"/>
            <field name="domain">[('parent_id','=',False)]</field>
        </record>
        <!--tree as tree-->

        <record id="view_kraskolba_warehouse_goodscategory_search" model="ir.ui.view">
            <field name="name">kraskolba_warehouse_goodscategory.search</field>
            <field name="model">kraskolba.warehouse.goodscategory</field>
            <field name="arch" type="xml">
                <search>
                    <field name="complete_name"/>

                    <separator/>

                    <filter name="goodscategory_tree_root" string="Коренные" domain="[('parent_id', '=', False)]"/>

                    <group string="Сгруппировать">
                        <filter name="group_goodscategory_tree_by_parent" string="По родителю" context="{'group_by': 'parent_id'}"/>
                    </group>

                </search>
            </field>
        </record>

        <!-- goodscategory -->
 
    </data>
</openerp>